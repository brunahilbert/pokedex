let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&Object.keys(t).includes("name")&&Object.keys(t).includes("detailsUrl")?e.push(t):console.log("Not valid Pokemon",t)}function i(e){return l(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){o(),e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.abilities=t.abilities}).catch(function(e){o(),console.error(e)})}function a(e){i(e).then(function(){var t,n;let i,a,l,o,s,c,d,p,u;t=e,i=document.querySelector(".modal-title"),a=document.querySelector(".modal-body"),i.innerHTML="",a.innerHTML="",l=document.createElement("h1"),l.innerText=r(t.name),o=document.createElement("p"),o.innerText="Height: "+function e(t){let n=t.toString();return t<=9?n+"0 cm":n.charAt(0)+"."+n.slice(1)+" m"}(t.height),s=document.createElement("p"),s.innerText="Weight: "+(n=t.weight,n/10+" kg"),c=document.createElement("p"),c.innerText="Type: "+t.types.map(e=>r(e.type.name)).join(", "),d=document.createElement("p"),d.innerText="Abilities: "+t.abilities.map(e=>r(e.ability.name)).join(", "),p=document.createElement("img"),p.setAttribute("src",t.imageUrlFront),p.setAttribute("class","modal-img"),p.setAttribute("alt","Pokemon front image"),u=document.createElement("img"),u.setAttribute("src",t.imageUrlBack),u.setAttribute("class","modal-img"),u.setAttribute("alt","Pokemon back image"),i.appendChild(l),a.appendChild(p),a.appendChild(u),a.appendChild(o),a.appendChild(s),a.appendChild(c),a.appendChild(d)})}function l(){let e=document.querySelector("#loading-message");e.innerHTML="";let t=document.createElement("div");t.classList.add("message");let n=document.createElement("h1");n.innerText="Wait!";let i=document.createElement("p");i.innerText="The data is being loaded",t.appendChild(n),t.appendChild(i),e.appendChild(t),e.classList.add("is-visible")}function o(){document.querySelector("#loading-message").classList.remove("is-visible")}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}return $(document).ready(function(){$("#search-input").on("keyup",function(){var e=$(this).val().toLowerCase();$(".pokemon-list li").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})}),{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li"),l=document.createElement("button");l.setAttribute("id","button-class"),l.classList.add("btn"),l.setAttribute("type","button"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),l.innerText=r(t.name),i.appendChild(l),n.appendChild(i),function e(t,n){t.addEventListener("click",function(){a(n)})}(l,t)},loadList:function e(){return l(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){o(),e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};n(t),console.log(t)})}).catch(function(e){o(),console.error(e)})},loadDetails:i,showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(pokemonRepository.addListItem)});